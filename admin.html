<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 대시보드 | 한국GPT협회</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 차트 및 분석 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- 드래그앤드롭 라이브러리 -->
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />
</head>
<body class="admin-body">
    <!-- 관리자 헤더 -->
    <header class="admin-header">
        <div class="admin-header-content">
            <div class="admin-brand">
                <h1><a href="admin.html">한국GPT협회 관리자</a></h1>
            </div>
            <div class="admin-nav">
                <div class="theme-toggle">
                    <button id="themeToggle" class="theme-btn">
                        <i class="fas fa-moon"></i>
                        <span>다크모드</span>
                    </button>
                </div>
                <div class="admin-user">
                    <span>관리자님</span>
                    <div class="admin-dropdown">
                        <button class="dropdown-toggle">
                            <i class="fas fa-user-circle"></i>
                        </button>
                        <div class="dropdown-menu">
                            <a href="#" class="dropdown-item">내 정보</a>
                            <a href="#" class="dropdown-item">설정</a>
                            <div class="dropdown-divider"></div>
                            <a href="index.html" class="dropdown-item">사이트 보기</a>
                            <a href="#" class="dropdown-item">로그아웃</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="admin-layout">
        <!-- 사이드바 -->
        <aside class="admin-sidebar">
            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-item active">
                        <a href="#dashboard" class="nav-link" data-section="dashboard">
                            <i class="fas fa-chart-line"></i>
                            <span>대시보드</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#courses" class="nav-link" data-section="courses">
                            <i class="fas fa-graduation-cap"></i>
                            <span>강의 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#orders" class="nav-link" data-section="orders">
                            <i class="fas fa-shopping-cart"></i>
                            <span>주문 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#members" class="nav-link" data-section="members">
                            <i class="fas fa-users"></i>
                            <span>회원 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#sales" class="nav-link" data-section="sales">
                            <i class="fas fa-won-sign"></i>
                            <span>매출 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#reviews" class="nav-link" data-section="reviews">
                            <i class="fas fa-star"></i>
                            <span>후기 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#quotes" class="nav-link" data-section="quotes">
                            <i class="fas fa-file-invoice"></i>
                            <span>견적 관리</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#settings" class="nav-link" data-section="settings">
                            <i class="fas fa-cog"></i>
                            <span>사이트 설정</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 -->
        <main class="admin-main">
            <!-- 고급 대시보드 섹션 -->
            <section id="dashboard" class="admin-section active">
                <div class="section-header">
                    <h2>비즈니스 인텔리전스 대시보드</h2>
                    <div class="dashboard-controls">
                        <select id="dateRange" onchange="updateDashboardData()">
                            <option value="7">최근 7일</option>
                            <option value="30" selected>최근 30일</option>
                            <option value="90">최근 90일</option>
                            <option value="365">최근 1년</option>
                        </select>
                        <button class="btn btn-primary" onclick="exportDashboardData()">
                            <i class="fas fa-download"></i> 데이터 내보내기
                        </button>
                        <button class="btn btn-secondary" onclick="refreshDashboard()">
                            <i class="fas fa-sync-alt"></i> 새로고침
                        </button>
                    </div>
                </div>

                <!-- 실시간 알림 영역 -->
                <div id="realTimeAlerts" class="alerts-container">
                    <!-- 실시간 알림이 여기에 표시됩니다 -->
                </div>

                <!-- KPI 카드들 -->
                <div class="kpi-grid">
                    <div class="kpi-card revenue">
                        <div class="kpi-header">
                            <div class="kpi-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="kpi-trend" id="revenueTrend">
                                <i class="fas fa-arrow-up"></i>
                                <span>+12.5%</span>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <h3 id="totalRevenue">₩0</h3>
                            <p>총 매출</p>
                            <div class="kpi-detail">
                                <small>목표 대비: <span id="revenueGoal">78%</span></small>
                            </div>
                        </div>
                        <div class="kpi-sparkline">
                            <canvas id="revenueSparkline" width="100" height="30"></canvas>
                        </div>
                    </div>

                    <div class="kpi-card conversion">
                        <div class="kpi-header">
                            <div class="kpi-icon">
                                <i class="fas fa-funnel-dollar"></i>
                            </div>
                            <div class="kpi-trend" id="conversionTrend">
                                <i class="fas fa-arrow-up"></i>
                                <span>+3.2%</span>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <h3 id="conversionRate">0%</h3>
                            <p>전환율</p>
                            <div class="kpi-detail">
                                <small>견적요청 → 계약</small>
                            </div>
                        </div>
                        <div class="kpi-sparkline">
                            <canvas id="conversionSparkline" width="100" height="30"></canvas>
                        </div>
                    </div>

                    <div class="kpi-card satisfaction">
                        <div class="kpi-header">
                            <div class="kpi-icon">
                                <i class="fas fa-smile"></i>
                            </div>
                            <div class="kpi-trend" id="satisfactionTrend">
                                <i class="fas fa-arrow-up"></i>
                                <span>+0.8%</span>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <h3 id="customerSatisfaction">0</h3>
                            <p>고객만족도</p>
                            <div class="kpi-detail">
                                <small>5점 만점 평균</small>
                            </div>
                        </div>
                        <div class="kpi-sparkline">
                            <canvas id="satisfactionSparkline" width="100" height="30"></canvas>
                        </div>
                    </div>

                    <div class="kpi-card retention">
                        <div class="kpi-header">
                            <div class="kpi-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="kpi-trend" id="retentionTrend">
                                <i class="fas fa-arrow-down"></i>
                                <span>-1.2%</span>
                            </div>
                        </div>
                        <div class="kpi-content">
                            <h3 id="customerRetention">0%</h3>
                            <p>고객 유지율</p>
                            <div class="kpi-detail">
                                <small>재구매/재등록률</small>
                            </div>
                        </div>
                        <div class="kpi-sparkline">
                            <canvas id="retentionSparkline" width="100" height="30"></canvas>
                        </div>
                    </div>
                </div>

                <!-- 차트 그리드 -->
                <div class="charts-grid">
                    <!-- 매출 추이 차트 -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>매출 추이 분석</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="daily">일별</button>
                                <button class="chart-btn" data-period="weekly">주별</button>
                                <button class="chart-btn" data-period="monthly">월별</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>

                    <!-- 고객 유입 경로 -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>고객 유입 경로</h3>
                            <div class="chart-legend" id="funnelLegend">
                                <!-- 범례가 동적으로 생성됨 -->
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="funnelChart"></canvas>
                        </div>
                    </div>

                    <!-- 지역별 분석 -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>지역별 고객 분포</h3>
                            <button class="btn btn-sm" onclick="toggleMapView()">
                                <i class="fas fa-map"></i> 지도 보기
                            </button>
                        </div>
                        <div class="chart-container">
                            <canvas id="regionChart"></canvas>
                        </div>
                    </div>

                    <!-- 교육 프로그램 성과 -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>교육 프로그램 성과</h3>
                            <select onchange="updateProgramChart(this.value)">
                                <option value="enrollment">등록 현황</option>
                                <option value="completion">완료율</option>
                                <option value="satisfaction">만족도</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="programChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- 고객 경험 인사이트 -->
                <div class="insights-grid">
                    <div class="insight-card">
                        <div class="insight-header">
                            <h3>고객 여정 분석</h3>
                            <span class="insight-badge new">신규</span>
                        </div>
                        <div class="insight-content">
                            <div class="journey-steps">
                                <div class="journey-step">
                                    <div class="step-number">1</div>
                                    <div class="step-info">
                                        <h4>사이트 방문</h4>
                                        <p>1,245명 (100%)</p>
                                    </div>
                                </div>
                                <div class="journey-step">
                                    <div class="step-number">2</div>
                                    <div class="step-info">
                                        <h4>견적 요청</h4>
                                        <p>298명 (23.9%)</p>
                                    </div>
                                </div>
                                <div class="journey-step">
                                    <div class="step-number">3</div>
                                    <div class="step-info">
                                        <h4>상담 진행</h4>
                                        <p>156명 (52.3%)</p>
                                    </div>
                                </div>
                                <div class="journey-step">
                                    <div class="step-number">4</div>
                                    <div class="step-info">
                                        <h4>계약 체결</h4>
                                        <p>89명 (57.1%)</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="insight-card">
                        <div class="insight-header">
                            <h3>실시간 활동</h3>
                            <div class="activity-indicator active"></div>
                        </div>
                        <div class="insight-content">
                            <div class="activity-feed" id="activityFeed">
                                <!-- 실시간 활동이 여기에 표시됩니다 -->
                            </div>
                        </div>
                    </div>

                    <div class="insight-card">
                        <div class="insight-header">
                            <h3>AI 추천 인사이트</h3>
                            <i class="fas fa-robot insight-icon"></i>
                        </div>
                        <div class="insight-content">
                            <div class="ai-insights" id="aiInsights">
                                <!-- AI 분석 결과가 여기에 표시됩니다 -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 강의 관리 섹션 -->
            <section id="courses" class="admin-section">
                <div class="section-header">
                    <h2>강의 관리</h2>
                    <button class="btn btn-primary" id="addCourseBtn">
                        <i class="fas fa-plus"></i> 새 강의 추가
                    </button>
                </div>

                <div class="table-container">
                    <table class="admin-table" id="coursesTable">
                        <thead>
                            <tr>
                                <th>강의명</th>
                                <th>카테고리</th>
                                <th>가격</th>
                                <th>수강생</th>
                                <th>상태</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 동적으로 생성됨 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- 주문 관리 섹션 -->
            <section id="orders" class="admin-section">
                <div class="section-header">
                    <h2>주문 관리</h2>
                    <div class="section-filters">
                        <select class="filter-select">
                            <option value="all">모든 상태</option>
                            <option value="pending">결제 대기</option>
                            <option value="completed">결제 완료</option>
                            <option value="cancelled">취소됨</option>
                        </select>
                    </div>
                </div>

                <div class="table-container">
                    <table class="admin-table" id="ordersTable">
                        <thead>
                            <tr>
                                <th>주문번호</th>
                                <th>고객명</th>
                                <th>강의명</th>
                                <th>금액</th>
                                <th>상태</th>
                                <th>주문일</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 동적으로 생성됨 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- 회원 관리 섹션 -->
            <section id="members" class="admin-section">
                <div class="section-header">
                    <h2>회원 관리</h2>
                    <div class="section-filters">
                        <input type="text" class="search-input" placeholder="회원 검색..." id="memberSearch">
                        <select class="filter-select" id="memberRoleFilter">
                            <option value="all">모든 등급</option>
                            <option value="admin">관리자</option>
                            <option value="premium">프리미엄</option>
                            <option value="user">일반 회원</option>
                        </select>
                        <select class="filter-select" id="memberChannelFilter">
                            <option value="all">모든 채널</option>
                            <option value="direct">직접 유입</option>
                            <option value="google_cpc">구글 광고</option>
                            <option value="google_organic">구글 검색</option>
                            <option value="naver_blog">네이버 블로그</option>
                            <option value="facebook">페이스북</option>
                            <option value="instagram">인스타그램</option>
                        </select>
                    </div>
                </div>

                <div class="table-container">
                    <table class="admin-table" id="membersTable">
                        <thead>
                            <tr>
                                <th>회원 정보</th>
                                <th>가입일</th>
                                <th>구매 강의</th>
                                <th>총 결제금액</th>
                                <th>마케팅 채널</th>
                                <th>등급</th>
                                <th>작업</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 동적으로 생성됨 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="sales" class="admin-section">
                <div class="section-header">
                    <h2>매출 관리</h2>
                </div>
                <p>매출 분석 기능을 개발 중입니다...</p>
            </section>

            <section id="reviews" class="admin-section">
                <div class="section-header">
                    <h2>후기 관리</h2>
                </div>
                <p>후기 관리 기능을 개발 중입니다...</p>
            </section>

            <!-- 견적 관리 섹션 -->
            <section id="quotes" class="admin-section">
                <div class="section-header">
                    <h2>견적 관리</h2>
                    <div class="section-actions">
                        <button class="btn btn-secondary" onclick="exportQuotes()">
                            <i class="fas fa-download"></i> 내보내기
                        </button>
                    </div>
                </div>

                <!-- 견적 통계 -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon quotes">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalQuotes">0</h3>
                            <p>전체 견적</p>
                            <span class="stat-change positive">이번 달</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="pendingQuotes">0</h3>
                            <p>대기중</p>
                            <span class="stat-change neutral">처리 필요</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon completed">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="completedQuotes">0</h3>
                            <p>완료</p>
                            <span class="stat-change positive">계약 성사</span>
                        </div>
                    </div>
                </div>

                <!-- 견적 필터 -->
                <div class="table-controls">
                    <div class="table-search">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="회사명, 담당자 검색..." id="quoteSearch">
                    </div>
                    <div class="table-filters">
                        <select id="quoteFilter" onchange="filterQuotes(this.value)">
                            <option value="all">전체 견적</option>
                            <option value="pending">대기중</option>
                            <option value="contacted">연락완료</option>
                            <option value="completed">계약완료</option>
                        </select>
                        <input type="date" id="quoteDateFrom" placeholder="시작일">
                        <input type="date" id="quoteDateTo" placeholder="종료일">
                    </div>
                </div>

                <!-- 견적 테이블 -->
                <div class="data-table">
                    <table id="quotesTable">
                        <thead>
                            <tr>
                                <th>견적번호</th>
                                <th>회사명</th>
                                <th>담당자</th>
                                <th>과정</th>
                                <th>인원</th>
                                <th>견적금액</th>
                                <th>요청일</th>
                                <th>상태</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 견적 데이터가 여기에 표시됩니다 -->
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="settings" class="admin-section">
                <div class="section-header">
                    <h2>사이트 설정</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" onclick="openContentEditor()">
                            <i class="fas fa-edit"></i> 콘텐츠 편집
                        </button>
                        <button class="btn btn-secondary" onclick="openThemeSettings()">
                            <i class="fas fa-palette"></i> 테마 설정
                        </button>
                    </div>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-home"></i>
                            <h3>메인 페이지</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>홈페이지 배너, 강의 소개, 기업교육 섹션을 편집합니다.</p>
                            <button class="btn btn-outline" onclick="editPage('home')">편집하기</button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-graduation-cap"></i>
                            <h3>강의 관리</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>강의 카테고리, 가격 정책, 할인 설정을 관리합니다.</p>
                            <button class="btn btn-outline" onclick="editPage('courses')">설정하기</button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-building"></i>
                            <h3>기업교육</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>기업교육 프로그램 소개 및 문의 양식을 설정합니다.</p>
                            <button class="btn btn-outline" onclick="editPage('enterprise')">편집하기</button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-cog"></i>
                            <h3>일반 설정</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>사이트 제목, 연락처, 소셜 미디어 링크를 설정합니다.</p>
                            <button class="btn btn-outline" onclick="editPage('general')">설정하기</button>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-images"></i>
                            <h3>미디어 관리</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>이미지 및 미디어 파일을 업로드하고 관리합니다.</p>
                            <button class="btn btn-outline" onclick="openMediaManager()">관리하기</button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="settings-card-header">
                            <i class="fas fa-chart-bar"></i>
                            <h3>분석 리포트</h3>
                        </div>
                        <div class="settings-card-content">
                            <p>상세한 분석 리포트를 생성하고 내보냅니다.</p>
                            <button class="btn btn-outline" onclick="generateAnalyticsReport()">리포트 생성</button>
                        </div>
                    </div>
                </div>
                
                <!-- 미디어 관리 섹션 -->
                <div class="content-management" style="margin-top: 3rem;">
                    <h3>
                        <i class="fas fa-cloud-upload-alt" style="margin-right: 0.5rem; color: var(--primary-color);"></i>
                        드래그앤드롭 이미지 업로드
                    </h3>
                    <div class="dropzone" id="imageDropzone">
                        <div class="dz-message" data-dz-message></div>
                    </div>
                    
                    <div style="margin-top: 2rem;">
                        <h4>업로드된 이미지</h4>
                        <div id="imageGallery" class="image-gallery" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem;">
                            <!-- 업로드된 이미지들이 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 강의 추가/편집 모달 -->
    <div id="courseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">새 강의 추가</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="courseForm" class="modal-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="courseName">강의명</label>
                        <input type="text" id="courseName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="courseCategory">카테고리</label>
                        <select id="courseCategory" name="category" required>
                            <option value="">선택하세요</option>
                            <option value="프롬프트 엔지니어링">프롬프트 엔지니어링</option>
                            <option value="비즈니스 AI">비즈니스 AI</option>
                            <option value="AI 마케팅">AI 마케팅</option>
                            <option value="AI 리더십">AI 리더십</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="coursePrice">가격 (원)</label>
                        <input type="number" id="coursePrice" name="price" required>
                    </div>
                    <div class="form-group">
                        <label for="courseDiscount">할인률 (%)</label>
                        <input type="number" id="courseDiscount" name="discount" min="0" max="100">
                    </div>
                </div>
                <div class="form-group">
                    <label for="courseDescription">강의 설명</label>
                    <textarea id="courseDescription" name="description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="courseImage">강의 이미지 URL</label>
                    <input type="url" id="courseImage" name="image" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">취소</button>
                    <button type="submit" class="btn btn-primary">저장</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 회원 상세 정보 모달 -->
    <div id="memberDetailModal" class="modal">
        <div class="modal-content member-modal">
            <div class="modal-header">
                <h3 id="memberModalTitle">회원 상세 정보</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-info-grid">
                    <div class="member-basic-info">
                        <h4>기본 정보</h4>
                        <div class="info-item">
                            <label>이름:</label>
                            <span id="memberName">-</span>
                        </div>
                        <div class="info-item">
                            <label>이메일:</label>
                            <span id="memberEmail">-</span>
                        </div>
                        <div class="info-item">
                            <label>전화번호:</label>
                            <span id="memberPhone">-</span>
                        </div>
                        <div class="info-item">
                            <label>회사:</label>
                            <span id="memberCompany">-</span>
                        </div>
                        <div class="info-item">
                            <label>직책:</label>
                            <span id="memberPosition">-</span>
                        </div>
                        <div class="info-item">
                            <label>가입일:</label>
                            <span id="memberJoinDate">-</span>
                        </div>
                        <div class="info-item">
                            <label>마케팅 채널:</label>
                            <span id="memberChannel">-</span>
                        </div>
                    </div>
                    <div class="member-purchase-info">
                        <h4>구매 정보</h4>
                        <div class="info-item">
                            <label>총 결제금액:</label>
                            <span id="memberTotalAmount" class="amount">₩0</span>
                        </div>
                        <div class="info-item">
                            <label>구매 강의 수:</label>
                            <span id="memberCourseCount">0개</span>
                        </div>
                    </div>
                </div>
                
                <div class="member-courses-section">
                    <h4>구매 강의 목록</h4>
                    <div class="courses-list" id="memberCoursesList">
                        <!-- 동적으로 생성됨 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 수강률 상세 모달 -->
    <div id="courseProgressModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="courseProgressTitle">수강률 상세</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="progress-info">
                    <div class="progress-header">
                        <h4 id="progressCourseName">-</h4>
                        <span id="progressPercentage" class="progress-percent">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                    <div class="progress-details">
                        <div class="detail-item">
                            <label>구매일:</label>
                            <span id="progressPurchaseDate">-</span>
                        </div>
                        <div class="detail-item">
                            <label>결제 금액:</label>
                            <span id="progressAmount">₩0</span>
                        </div>
                        <div class="detail-item">
                            <label>결제 방법:</label>
                            <span id="progressPaymentMethod">-</span>
                        </div>
                        <div class="detail-item">
                            <label>마지막 수강일:</label>
                            <span id="progressLastAccess">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 콘텐츠 편집 모달 -->
    <div id="contentEditorModal" class="modal">
        <div class="modal-content content-editor-modal">
            <div class="modal-header">
                <h3 id="editorModalTitle">콘텐츠 편집</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="editor-tabs">
                    <button class="editor-tab active" data-tab="visual">시각적 편집</button>
                    <button class="editor-tab" data-tab="code">HTML 편집</button>
                </div>
                
                <div class="editor-content">
                    <div id="visualEditor" class="editor-panel active">
                        <div class="editor-toolbar">
                            <button class="editor-btn" onclick="formatText('bold')"><i class="fas fa-bold"></i></button>
                            <button class="editor-btn" onclick="formatText('italic')"><i class="fas fa-italic"></i></button>
                            <button class="editor-btn" onclick="formatText('underline')"><i class="fas fa-underline"></i></button>
                            <div class="editor-separator"></div>
                            <button class="editor-btn" onclick="formatText('insertUnorderedList')"><i class="fas fa-list-ul"></i></button>
                            <button class="editor-btn" onclick="formatText('insertOrderedList')"><i class="fas fa-list-ol"></i></button>
                            <div class="editor-separator"></div>
                            <button class="editor-btn" onclick="insertImage()"><i class="fas fa-image"></i></button>
                            <button class="editor-btn" onclick="insertLink()"><i class="fas fa-link"></i></button>
                        </div>
                        <div class="editor-area" contenteditable="true" id="editableContent">
                            <!-- 편집 가능한 콘텐츠가 여기에 로드됩니다 -->
                        </div>
                    </div>
                    
                    <div id="codeEditor" class="editor-panel">
                        <textarea id="htmlEditor" placeholder="HTML 코드를 입력하세요..."></textarea>
                    </div>
                </div>
                
                <div class="editor-actions">
                    <button class="btn btn-outline" onclick="previewContent()">미리보기</button>
                    <button class="btn btn-secondary" onclick="closeContentEditor()">취소</button>
                    <button class="btn btn-primary" onclick="saveContent()">저장</button>
                </div>
            </div>
        </div>
    </div>

    <script src="user-manager.js"></script>
    <script src="admin.js"></script>
</body>
</html>